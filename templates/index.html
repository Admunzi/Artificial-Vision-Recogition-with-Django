{% extends "base.html" %}
{% load static %}
{% block scripts %}{% endblock scripts %}
{% block title %}Recognition Objects{% endblock title %}
{% block content %}
<script src="{% static 'js/main.js' %}"></script>
<div class="main">
    <div id="top">
        <div>
            <video id="myVideo" width="640" height="360" muted>
                <source src="{% static '' %}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <canvas id="myCanvas" width="640" height="360"></canvas>
            <button id="playOrStopVideo">Play / Stop</button>
            <input type="range" id="rangeInput" min="0" max="100" step="1" value="0">
        </div>
        <div>
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit">Upload</button>
            </form>

            <div id="videos_to_detect">
                {% for detected in detected_objs %}
                    <div>
                        {{ detected.title }}
                        <video width="120">
                            <source src="{% static 'media_saved/videos/'|add:detected.filename|safe %}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        <span style="display:none">{{ detected.pk }}</span>
                    </div>
                {% endfor %}
            </div>
            
        </div>
    </div>
    <div id="bottom">
        <div id="detected_objects_ranking"></div>
        <div id="detected_objects_panel"></div>
        
    </div>
 </div>
{% endblock content %}